generator client {
  provider        = "prisma-client-js"
  previewFeatures = ["postgresqlExtensions"]
}

datasource db {
  provider   = "postgresql"
  url        = env("DATABASE_URL")
  extensions = [postgis]
}

model AreaOfInterest {
  id           Int                      @id @default(autoincrement())
  name         String?
  properties   Json
  createdAt    DateTime                 @default(now())
  updatedAt    DateTime                 @updatedAt
  area         Float
  bbox         Float[]
  ccn          Int
  coordinates  Json
  country      String
  districtId   Int
  districtName String
  engType      String
  geometryType String
  iso          String
  objectId     Int
  provinceId   Int
  provinceName String
  shapeArea    Float
  shapeLeng    Float
  type         String
  type2        String
  geom         Unsupported("geometry")?

  @@index([geometryType, bbox])
}

model Soil {
  id           Int                      @id @default(autoincrement())
  createdAt    DateTime                 @default(now())
  updatedAt    DateTime                 @updatedAt
  bbox         Float[]
  coordinates  Json
  geometryType String
  type         String
  name         String?
  featureId    Int
  gridcode     Int
  objectId     Int
  shapeArea    Float
  shapeLeng    Float
  soilType     String
  geom         Unsupported("geometry")?
}

model DigitalElevationModel {
  id           Int                      @id @default(autoincrement())
  name         String
  createdAt    DateTime                 @default(now())
  updatedAt    DateTime                 @updatedAt
  elevation    Int
  geometryType String
  geom         Unsupported("geometry")?
  bbox         Float[]
  coordinates  Json

}

model Geology {
  id          Int                      @id @default(autoincrement())
  name        String?
  bbox        Float[]
  geom        Unsupported("geometry")?
  properties  Json?
  createdAt   DateTime                 @default(now())
  updatedAt   DateTime                 @updatedAt

}

model ProtectedArea {
  id          Int                      @id @default(autoincrement())
  name        String
  type        String
  coordinates Json
  bbox        Float[]
  properties  Json
  createdAt   DateTime                 @default(now())
  updatedAt   DateTime                 @updatedAt
  geom        Unsupported("geometry")?

  
}

model Road {
  id          Int                      @id @default(autoincrement())
  name        String?
  properties  Json
  createdAt   DateTime                 @default(now())
  updatedAt   DateTime                 @updatedAt
  coordinates Json
  type        String
  bbox        Float[]
  geom        Unsupported("geometry")?

}

model River {
  id          Int                      @id @default(autoincrement())
  name        String
  properties  Json
  createdAt   DateTime                 @default(now())
  updatedAt   DateTime                 @updatedAt
  bbox        Float[]
  coordinates Json
  type        String
  geom        Unsupported("geometry")?

  @@index([geom])
}

model Settlement {
  id           Int                      @id @default(autoincrement())
  name         String?
  type         String
  geometryType String
  coordinates  Json
  properties   Json
  geom         Unsupported("geometry(Geometry,4326)")?
  createdAt    DateTime                 @default(now())
  updatedAt    DateTime                 @updatedAt

  @@index([geom])
}
   model LandUseRaster {
     id          Int      @id @default(autoincrement())
     description String
     raster      Bytes
     createdAt   DateTime @default(now())
     updatedAt   DateTime @updatedAt
   }

/// This table contains check constraints and requires additional setup for migrations. Visit https://pris.ly/d/check-constraints for more info.
model spatial_ref_sys {
  srid      Int     @id
  auth_name String? @db.VarChar(256)
  auth_srid Int?
  srtext    String? @db.VarChar(2048)
  proj4text String? @db.VarChar(2048)
}
